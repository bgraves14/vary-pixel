<section class="homepage" ng-controller="HomeController">
  <section ng-controller="UserController">
    <nav class="navbar">
      <div class="container-fluid">
        <a class="navbar-brand navbar-header" ng-click="fetchPopular()">VARY-PIXEL</a>
        <ul class="nav navbar-nav">
          <li>
            <button class="btn btn-default navbar-btn signInButton" ng-click="userAction('signIn')" type="button">Sign in</button>
          </li>
          <li>
            <button class="btn btn-default navbar-btn signUpButton" ng-click="userAction('signUp')" type="button">Sign up</button>
          </li>
          <li>
            <button class="btn btn-default navbar-btn signOutButton" ng-click="userAction('signOut')" type="button">Sign out</button>
          </li>
          <li>
            <p class="username">{{ username }}</p>
          </li>
        </ul>
        <form class="searchbox navbar-form navbar-right">
          <input ng-model="searchString"class="form-horizontal" placeholder="Type here" type="text"/>
          <button class="btn btn-default" type="button" ng-click="search(searchString)">Search</button>
        </form>
        <form class="makenew navbar-form navbar-right">
          <button class="glyphicon glyphicon-plus" ng-click="userAction('makeNew')"></button>
        </form>
      </div>
    </nav>
    
    <section class="user-action">
      <button class="glyphicon glyphicon-remove" ng-click="userAction(userActionChoice)"></button>
      <form class="sign-in" ng-show="userActionChoice === 'signIn'">
        <label>Username:
          <input name="username" ng-model="usernameLogIn" type="text">
        </label>
        <label>Password:
          <input name="password" ng-model="passwordLogIn" type="password">
        </label>
        <button class="btn btn-success" ng-click="signInUser(usernameLogIn, passwordLogIn)" type="button">Sign in</button>
      </form>
      <form class="sign-up" ng-show="userActionChoice === 'signUp'">
        <label>Username:
          <input name="username" ng-model="username" type="text">
        </label>
        <label>Email:
          <input name="email" ng-model="email" type="email">
        </label>
        <label>Password:
          <input name="password" ng-model="password" type="password">
        </label>
        <label>Password Confirmation:
          <input name="password-confirmation" ng-model="passwordConfirmation" type="password">
        </label>
        <button class="btn btn-success" ng-click="saveUser(username, email, password, passwordConfirmation)" type="button">Sign up</button>
      </form>
      <form class="sign-out" ng-show="userActionChoice === 'signOut'">
        <p>Are you sure you're ready to sign out?</p>
        <button class='btn btn-danger' ng-click="signOutUser()">Sign out</button>
      </form>
      <form ng-show="userActionChoice==='makeNew'">
        <input ng-model="boardDesc" type="text">
        <button class="btn btn-success" ng-click="addBoard(boardDesc)" type="button" ui-sref="canvas">This is my fun</button>
      </form>
    </section>

    <section>
      <div class="jumbotron">
        <h1>Here is all the fun you can partake in</h1>
        <p>
          It's simple! Sign up, join a room and start!
          <br/>
          Don't like any rooms? Create your own.
        </p>
      </div>

      <ul class="board-list">
        <li ng-repeat="board in boards">
          <a ng-click="setCurrent(board.id); checkUserReg()" ui-sref="canvas"><img class="img-rounded" ng-src="{{ board.get('picture').url()}}"/></a>
          <h4>{{board.get('description')}}</h4>
        </li>
      </ul>
    </section>
    <section>
      <div class="userRegistrationBox">
        You need to log in before you can join the fun!
      </div>
    </section>
  </section>
</section>
